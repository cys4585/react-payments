import{r as y,a as _r}from"./index-CsdIBAqE.js";import{R as Ur}from"./index-CpXDz0sX.js";/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z.apply(this,arguments)}var H;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(H||(H={}));const _t="popstate";function Qt(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:i,hash:d}=n.location;return He("",{pathname:s,search:i,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:$e(a)}return jr(t,r,null,e)}function T(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ce(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ir(){return Math.random().toString(36).substr(2,8)}function Ut(e,t){return{usr:e.state,key:e.key,idx:t}}function He(e,t,r,n){return r===void 0&&(r=null),z({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ue(t):t,{state:r,key:t&&t.key||n||Ir()})}function $e(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ue(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function jr(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,d=H.Pop,c=null,g=f();g==null&&(g=0,i.replaceState(z({},i.state,{idx:g}),""));function f(){return(i.state||{idx:null}).idx}function m(){d=H.Pop;let E=f(),F=E==null?null:E-g;g=E,c&&c({action:d,location:R.location,delta:F})}function v(E,F){d=H.Push;let I=He(R.location,E,F);r&&r(I,E),g=f()+1;let B=Ut(I,g),ee=R.createHref(I);try{i.pushState(B,"",ee)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;a.location.assign(ee)}s&&c&&c({action:d,location:R.location,delta:1})}function L(E,F){d=H.Replace;let I=He(R.location,E,F);r&&r(I,E),g=f();let B=Ut(I,g),ee=R.createHref(I);i.replaceState(B,"",ee),s&&c&&c({action:d,location:R.location,delta:0})}function x(E){let F=a.location.origin!=="null"?a.location.origin:a.location.href,I=typeof E=="string"?E:$e(E);return I=I.replace(/ $/,"%20"),T(F,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,F)}let R={get action(){return d},get location(){return e(a,i)},listen(E){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(_t,m),c=E,()=>{a.removeEventListener(_t,m),c=null}},createHref(E){return t(a,E)},createURL:x,encodeLocation(E){let F=x(E);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:v,replace:L,go(E){return i.go(E)}};return R}var N;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(N||(N={}));const Or=new Set(["lazy","caseSensitive","path","id","index","children"]);function Nr(e){return e.index===!0}function ht(e,t,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),e.map((a,s)=>{let i=[...r,s],d=typeof a.id=="string"?a.id:i.join("-");if(T(a.index!==!0||!a.children,"Cannot specify children on an index route"),T(!n[d],'Found a route id collision on id "'+d+`".  Route id's must be globally unique within Data Router usages`),Nr(a)){let c=z({},a,t(a),{id:d});return n[d]=c,c}else{let c=z({},a,t(a),{id:d,children:void 0});return n[d]=c,a.children&&(c.children=ht(a.children,t,i,n)),c}})}function Le(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?ue(t):t,a=We(n.pathname||"/",r);if(a==null)return null;let s=Zt(e);zr(s);let i=null;for(let d=0;i==null&&d<s.length;++d){let c=qr(a);i=Jr(s[d],c)}return i}function Br(e,t){let{route:r,pathname:n,params:a}=e;return{id:r.id,pathname:n,params:a,data:t[r.id],handle:r.handle}}function Zt(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,d)=>{let c={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(T(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let g=pe([n,c.relativePath]),f=r.concat(c);s.children&&s.children.length>0&&(T(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Zt(s.children,t,f,g)),!(s.path==null&&!s.index)&&t.push({path:g,score:Kr(g,s.index),routesMeta:f})};return e.forEach((s,i)=>{var d;if(s.path===""||!((d=s.path)!=null&&d.includes("?")))a(s,i);else for(let c of er(s.path))a(s,i,c)}),t}function er(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=er(n.join("/")),d=[];return d.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&d.push(...i),d.map(c=>e.startsWith("/")&&c===""?"/":c)}function zr(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Yr(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Ar=/^:[\w-]+$/,kr=3,Hr=2,Vr=1,$r=10,Wr=-2,It=e=>e==="*";function Kr(e,t){let r=e.split("/"),n=r.length;return r.some(It)&&(n+=Wr),t&&(n+=Hr),r.filter(a=>!It(a)).reduce((a,s)=>a+(Ar.test(s)?kr:s===""?Vr:$r),n)}function Yr(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Jr(e,t){let{routesMeta:r}=e,n={},a="/",s=[];for(let i=0;i<r.length;++i){let d=r[i],c=i===r.length-1,g=a==="/"?t:t.slice(a.length)||"/",f=Gr({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},g);if(!f)return null;Object.assign(n,f.params);let m=d.route;s.push({params:n,pathname:pe([a,f.pathname]),pathnameBase:en(pe([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=pe([a,f.pathnameBase]))}return s}function Gr(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Xr(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:n.reduce((g,f,m)=>{let{paramName:v,isOptional:L}=f;if(v==="*"){let R=d[m]||"";i=s.slice(0,s.length-R.length).replace(/(.)\/+$/,"$1")}const x=d[m];return L&&!x?g[v]=void 0:g[v]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:s,pathnameBase:i,pattern:e}}function Xr(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ce(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,d,c)=>(n.push({paramName:d,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function qr(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ce(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function We(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Qr(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ue(e):e;return{pathname:r?r.startsWith("/")?r:Zr(r,t):t,search:tn(n),hash:rn(a)}}function Zr(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function dt(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tr(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function rr(e,t){let r=tr(e);return t?r.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function nr(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=ue(e):(a=z({},e),T(!a.pathname||!a.pathname.includes("?"),dt("?","pathname","search",a)),T(!a.pathname||!a.pathname.includes("#"),dt("#","pathname","hash",a)),T(!a.search||!a.search.includes("#"),dt("#","search","hash",a)));let s=e===""||a.pathname==="",i=s?"/":a.pathname,d;if(i==null)d=r;else{let m=t.length-1;if(!n&&i.startsWith("..")){let v=i.split("/");for(;v[0]==="..";)v.shift(),m-=1;a.pathname=v.join("/")}d=m>=0?t[m]:"/"}let c=Qr(a,d),g=i&&i!=="/"&&i.endsWith("/"),f=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(g||f)&&(c.pathname+="/"),c}const pe=e=>e.join("/").replace(/\/\/+/g,"/"),en=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tn=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rn=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class gt{constructor(t,r,n,a){a===void 0&&(a=!1),this.status=t,this.statusText=r||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function yt(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ar=["post","put","patch","delete"],nn=new Set(ar),an=["get",...ar],on=new Set(an),ln=new Set([301,302,303,307,308]),sn=new Set([307,308]),ct={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},un={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Be={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},bt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dn=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),or="remix-router-transitions";function cn(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",n=!r;T(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let o=e.detectErrorBoundary;a=l=>({hasErrorBoundary:o(l)})}else a=dn;let s={},i=ht(e.routes,a,void 0,s),d,c=e.basename||"/",g=e.unstable_dataStrategy||pn,f=z({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},e.future),m=null,v=new Set,L=null,x=null,R=null,E=e.hydrationData!=null,F=Le(i,e.history.location,c),I=null;if(F==null){let o=re(404,{pathname:e.history.location.pathname}),{matches:l,route:h}=$t(i);F=l,I={[h.id]:o}}let B,ee=F.some(o=>o.route.lazy),q=F.some(o=>o.route.loader);if(ee)B=!1;else if(!q)B=!0;else if(f.v7_partialHydration){let o=e.hydrationData?e.hydrationData.loaderData:null,l=e.hydrationData?e.hydrationData.errors:null,h=p=>p.route.loader?typeof p.route.loader=="function"&&p.route.loader.hydrate===!0?!1:o&&o[p.route.id]!==void 0||l&&l[p.route.id]!==void 0:!0;if(l){let p=F.findIndex(b=>l[b.route.id]!==void 0);B=F.slice(0,p+1).every(h)}else B=F.every(h)}else B=e.hydrationData!=null;let de,u={historyAction:e.history.action,location:e.history.location,matches:F,initialized:B,navigation:ct,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||I,fetchers:new Map,blockers:new Map},A=H.Pop,U=!1,j,k=!1,G=new Map,W=null,Q=!1,ie=!1,Ke=[],Ye=[],V=new Map,Je=0,Te=-1,Ee=new Map,le=new Set,Re=new Map,Fe=new Map,se=new Set,ve=new Map,ge=new Map,lt=!1;function gr(){if(m=e.history.listen(o=>{let{action:l,location:h,delta:p}=o;if(lt){lt=!1;return}Ce(ge.size===0||p!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let b=Ct({currentLocation:u.location,nextLocation:h,historyAction:l});if(b&&p!=null){lt=!0,e.history.go(p*-1),Xe(b,{state:"blocked",location:h,proceed(){Xe(b,{state:"proceeding",proceed:void 0,reset:void 0,location:h}),e.history.go(p)},reset(){let C=new Map(u.blockers);C.set(b,Be),Z({blockers:C})}});return}return ye(l,h)}),r){Ln(t,G);let o=()=>Cn(t,G);t.addEventListener("pagehide",o),W=()=>t.removeEventListener("pagehide",o)}return u.initialized||ye(H.Pop,u.location,{initialHydration:!0}),de}function yr(){m&&m(),W&&W(),v.clear(),j&&j.abort(),u.fetchers.forEach((o,l)=>Ge(l)),u.blockers.forEach((o,l)=>Lt(l))}function br(o){return v.add(o),()=>v.delete(o)}function Z(o,l){l===void 0&&(l={}),u=z({},u,o);let h=[],p=[];f.v7_fetcherPersist&&u.fetchers.forEach((b,C)=>{b.state==="idle"&&(se.has(C)?p.push(C):h.push(C))}),[...v].forEach(b=>b(u,{deletedFetchers:p,unstable_viewTransitionOpts:l.viewTransitionOpts,unstable_flushSync:l.flushSync===!0})),f.v7_fetcherPersist&&(h.forEach(b=>u.fetchers.delete(b)),p.forEach(b=>Ge(b)))}function _e(o,l,h){var p,b;let{flushSync:C}=h===void 0?{}:h,S=u.actionData!=null&&u.navigation.formMethod!=null&&ae(u.navigation.formMethod)&&u.navigation.state==="loading"&&((p=o.state)==null?void 0:p._isRedirect)!==!0,w;l.actionData?Object.keys(l.actionData).length>0?w=l.actionData:w=null:S?w=u.actionData:w=null;let M=l.loaderData?Ht(u.loaderData,l.loaderData,l.matches||[],l.errors):u.loaderData,P=u.blockers;P.size>0&&(P=new Map(P),P.forEach((D,O)=>P.set(O,Be)));let K=U===!0||u.navigation.formMethod!=null&&ae(u.navigation.formMethod)&&((b=o.state)==null?void 0:b._isRedirect)!==!0;d&&(i=d,d=void 0),Q||A===H.Pop||(A===H.Push?e.history.push(o,o.state):A===H.Replace&&e.history.replace(o,o.state));let Y;if(A===H.Pop){let D=G.get(u.location.pathname);D&&D.has(o.pathname)?Y={currentLocation:u.location,nextLocation:o}:G.has(o.pathname)&&(Y={currentLocation:o,nextLocation:u.location})}else if(k){let D=G.get(u.location.pathname);D?D.add(o.pathname):(D=new Set([o.pathname]),G.set(u.location.pathname,D)),Y={currentLocation:u.location,nextLocation:o}}Z(z({},l,{actionData:w,loaderData:M,historyAction:A,location:o,initialized:!0,navigation:ct,revalidation:"idle",restoreScrollPosition:Tt(o,l.matches||u.matches),preventScrollReset:K,blockers:P}),{viewTransitionOpts:Y,flushSync:C===!0}),A=H.Pop,U=!1,k=!1,Q=!1,ie=!1,Ke=[],Ye=[]}async function Et(o,l){if(typeof o=="number"){e.history.go(o);return}let h=mt(u.location,u.matches,c,f.v7_prependBasename,o,f.v7_relativeSplatPath,l==null?void 0:l.fromRouteId,l==null?void 0:l.relative),{path:p,submission:b,error:C}=jt(f.v7_normalizeFormMethod,!1,h,l),S=u.location,w=He(u.location,p,l&&l.state);w=z({},w,e.history.encodeLocation(w));let M=l&&l.replace!=null?l.replace:void 0,P=H.Push;M===!0?P=H.Replace:M===!1||b!=null&&ae(b.formMethod)&&b.formAction===u.location.pathname+u.location.search&&(P=H.Replace);let K=l&&"preventScrollReset"in l?l.preventScrollReset===!0:void 0,Y=(l&&l.unstable_flushSync)===!0,D=Ct({currentLocation:S,nextLocation:w,historyAction:P});if(D){Xe(D,{state:"blocked",location:w,proceed(){Xe(D,{state:"proceeding",proceed:void 0,reset:void 0,location:w}),Et(o,l)},reset(){let O=new Map(u.blockers);O.set(D,Be),Z({blockers:O})}});return}return await ye(P,w,{submission:b,pendingError:C,preventScrollReset:K,replace:l&&l.replace,enableViewTransition:l&&l.unstable_viewTransition,flushSync:Y})}function wr(){if(st(),Z({revalidation:"loading"}),u.navigation.state!=="submitting"){if(u.navigation.state==="idle"){ye(u.historyAction,u.location,{startUninterruptedRevalidation:!0});return}ye(A||u.historyAction,u.navigation.location,{overrideNavigation:u.navigation})}}async function ye(o,l,h){j&&j.abort(),j=null,A=o,Q=(h&&h.startUninterruptedRevalidation)===!0,Mr(u.location,u.matches),U=(h&&h.preventScrollReset)===!0,k=(h&&h.enableViewTransition)===!0;let p=d||i,b=h&&h.overrideNavigation,C=Le(p,l,c),S=(h&&h.flushSync)===!0;if(!C){let D=re(404,{pathname:l.pathname}),{matches:O,route:$}=$t(p);ut(),_e(l,{matches:O,loaderData:{},errors:{[$.id]:D}},{flushSync:S});return}if(u.initialized&&!ie&&En(u.location,l)&&!(h&&h.submission&&ae(h.submission.formMethod))){_e(l,{matches:C},{flushSync:S});return}j=new AbortController;let w=Pe(e.history,l,j.signal,h&&h.submission),M;if(h&&h.pendingError)M=[ke(C).route.id,{type:N.error,error:h.pendingError}];else if(h&&h.submission&&ae(h.submission.formMethod)){let D=await Er(w,l,h.submission,C,{replace:h.replace,flushSync:S});if(D.shortCircuited)return;M=D.pendingActionResult,b=ft(l,h.submission),S=!1,w=Pe(e.history,w.url,w.signal)}let{shortCircuited:P,loaderData:K,errors:Y}=await Rr(w,l,C,b,h&&h.submission,h&&h.fetcherSubmission,h&&h.replace,h&&h.initialHydration===!0,S,M);P||(j=null,_e(l,z({matches:C},Vt(M),{loaderData:K,errors:Y})))}async function Er(o,l,h,p,b){b===void 0&&(b={}),st();let C=Dn(l,h);Z({navigation:C},{flushSync:b.flushSync===!0});let S,w=vt(p,l);if(!w.route.action&&!w.route.lazy)S={type:N.error,error:re(405,{method:o.method,pathname:l.pathname,routeId:w.route.id})};else if(S=(await Ie("action",o,[w],p))[0],o.signal.aborted)return{shortCircuited:!0};if(we(S)){let M;return b&&b.replace!=null?M=b.replace:M=zt(S.response.headers.get("Location"),new URL(o.url),c)===u.location.pathname+u.location.search,await Ue(o,S,{submission:h,replace:M}),{shortCircuited:!0}}if(be(S))throw re(400,{type:"defer-action"});if(ne(S)){let M=ke(p,w.route.id);return(b&&b.replace)!==!0&&(A=H.Push),{pendingActionResult:[M.route.id,S]}}return{pendingActionResult:[w.route.id,S]}}async function Rr(o,l,h,p,b,C,S,w,M,P){let K=p||ft(l,b),Y=b||C||Yt(K),D=d||i,[O,$]=Ot(e.history,u,h,Y,l,f.v7_partialHydration&&w===!0,f.unstable_skipActionErrorRevalidation,ie,Ke,Ye,se,Re,le,D,c,P);if(ut(_=>!(h&&h.some(X=>X.route.id===_))||O&&O.some(X=>X.route.id===_)),Te=++Je,O.length===0&&$.length===0){let _=Dt();return _e(l,z({matches:h,loaderData:{},errors:P&&ne(P[1])?{[P[0]]:P[1].error}:null},Vt(P),_?{fetchers:new Map(u.fetchers)}:{}),{flushSync:M}),{shortCircuited:!0}}if(!Q&&(!f.v7_partialHydration||!w)){$.forEach(X=>{let te=u.fetchers.get(X.key),J=ze(void 0,te?te.data:void 0);u.fetchers.set(X.key,J)});let _;P&&!ne(P[1])?_={[P[0]]:P[1].data}:u.actionData&&(Object.keys(u.actionData).length===0?_=null:_=u.actionData),Z(z({navigation:K},_!==void 0?{actionData:_}:{},$.length>0?{fetchers:new Map(u.fetchers)}:{}),{flushSync:M})}$.forEach(_=>{V.has(_.key)&&fe(_.key),_.controller&&V.set(_.key,_.controller)});let Oe=()=>$.forEach(_=>fe(_.key));j&&j.signal.addEventListener("abort",Oe);let{loaderResults:he,fetcherResults:xe}=await Rt(u.matches,h,O,$,o);if(o.signal.aborted)return{shortCircuited:!0};j&&j.signal.removeEventListener("abort",Oe),$.forEach(_=>V.delete(_.key));let Se=Wt([...he,...xe]);if(Se){if(Se.idx>=O.length){let _=$[Se.idx-O.length].key;le.add(_)}return await Ue(o,Se.result,{replace:S}),{shortCircuited:!0}}let{loaderData:De,errors:oe}=kt(u,h,O,he,P,$,xe,ve);ve.forEach((_,X)=>{_.subscribe(te=>{(te||_.done)&&ve.delete(X)})}),f.v7_partialHydration&&w&&u.errors&&Object.entries(u.errors).filter(_=>{let[X]=_;return!O.some(te=>te.route.id===X)}).forEach(_=>{let[X,te]=_;oe=Object.assign(oe||{},{[X]:te})});let qe=Dt(),Qe=Pt(Te),Ze=qe||Qe||$.length>0;return z({loaderData:De,errors:oe},Ze?{fetchers:new Map(u.fetchers)}:{})}function xr(o,l,h,p){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");V.has(o)&&fe(o);let b=(p&&p.unstable_flushSync)===!0,C=d||i,S=mt(u.location,u.matches,c,f.v7_prependBasename,h,f.v7_relativeSplatPath,l,p==null?void 0:p.relative),w=Le(C,S,c);if(!w){je(o,l,re(404,{pathname:S}),{flushSync:b});return}let{path:M,submission:P,error:K}=jt(f.v7_normalizeFormMethod,!0,S,p);if(K){je(o,l,K,{flushSync:b});return}let Y=vt(w,M);if(U=(p&&p.preventScrollReset)===!0,P&&ae(P.formMethod)){Sr(o,l,M,Y,w,b,P);return}Re.set(o,{routeId:l,path:M}),Dr(o,l,M,Y,w,b,P)}async function Sr(o,l,h,p,b,C,S){if(st(),Re.delete(o),!p.route.action&&!p.route.lazy){let J=re(405,{method:S.formMethod,pathname:h,routeId:l});je(o,l,J,{flushSync:C});return}let w=u.fetchers.get(o);ce(o,Pn(S,w),{flushSync:C});let M=new AbortController,P=Pe(e.history,h,M.signal,S);V.set(o,M);let K=Je,D=(await Ie("action",P,[p],b))[0];if(P.signal.aborted){V.get(o)===M&&V.delete(o);return}if(f.v7_fetcherPersist&&se.has(o)){if(we(D)||ne(D)){ce(o,me(void 0));return}}else{if(we(D))if(V.delete(o),Te>K){ce(o,me(void 0));return}else return le.add(o),ce(o,ze(S)),Ue(P,D,{fetcherSubmission:S});if(ne(D)){je(o,l,D.error);return}}if(be(D))throw re(400,{type:"defer-action"});let O=u.navigation.location||u.location,$=Pe(e.history,O,M.signal),Oe=d||i,he=u.navigation.state!=="idle"?Le(Oe,u.navigation.location,c):u.matches;T(he,"Didn't find any matches after fetcher action");let xe=++Je;Ee.set(o,xe);let Se=ze(S,D.data);u.fetchers.set(o,Se);let[De,oe]=Ot(e.history,u,he,S,O,!1,f.unstable_skipActionErrorRevalidation,ie,Ke,Ye,se,Re,le,Oe,c,[p.route.id,D]);oe.filter(J=>J.key!==o).forEach(J=>{let Ne=J.key,Ft=u.fetchers.get(Ne),Fr=ze(void 0,Ft?Ft.data:void 0);u.fetchers.set(Ne,Fr),V.has(Ne)&&fe(Ne),J.controller&&V.set(Ne,J.controller)}),Z({fetchers:new Map(u.fetchers)});let qe=()=>oe.forEach(J=>fe(J.key));M.signal.addEventListener("abort",qe);let{loaderResults:Qe,fetcherResults:Ze}=await Rt(u.matches,he,De,oe,$);if(M.signal.aborted)return;M.signal.removeEventListener("abort",qe),Ee.delete(o),V.delete(o),oe.forEach(J=>V.delete(J.key));let _=Wt([...Qe,...Ze]);if(_){if(_.idx>=De.length){let J=oe[_.idx-De.length].key;le.add(J)}return Ue($,_.result)}let{loaderData:X,errors:te}=kt(u,u.matches,De,Qe,void 0,oe,Ze,ve);if(u.fetchers.has(o)){let J=me(D.data);u.fetchers.set(o,J)}Pt(xe),u.navigation.state==="loading"&&xe>Te?(T(A,"Expected pending action"),j&&j.abort(),_e(u.navigation.location,{matches:he,loaderData:X,errors:te,fetchers:new Map(u.fetchers)})):(Z({errors:te,loaderData:Ht(u.loaderData,X,he,te),fetchers:new Map(u.fetchers)}),ie=!1)}async function Dr(o,l,h,p,b,C,S){let w=u.fetchers.get(o);ce(o,ze(S,w?w.data:void 0),{flushSync:C});let M=new AbortController,P=Pe(e.history,h,M.signal);V.set(o,M);let K=Je,D=(await Ie("loader",P,[p],b))[0];if(be(D)&&(D=await ur(D,P.signal,!0)||D),V.get(o)===M&&V.delete(o),!P.signal.aborted){if(se.has(o)){ce(o,me(void 0));return}if(we(D))if(Te>K){ce(o,me(void 0));return}else{le.add(o),await Ue(P,D);return}if(ne(D)){je(o,l,D.error);return}T(!be(D),"Unhandled fetcher deferred data"),ce(o,me(D.data))}}async function Ue(o,l,h){let{submission:p,fetcherSubmission:b,replace:C}=h===void 0?{}:h;l.response.headers.has("X-Remix-Revalidate")&&(ie=!0);let S=l.response.headers.get("Location");T(S,"Expected a Location header on the redirect Response"),S=zt(S,new URL(o.url),c);let w=He(u.location,S,{_isRedirect:!0});if(r){let O=!1;if(l.response.headers.has("X-Remix-Reload-Document"))O=!0;else if(bt.test(S)){const $=e.history.createURL(S);O=$.origin!==t.location.origin||We($.pathname,c)==null}if(O){C?t.location.replace(S):t.location.assign(S);return}}j=null;let M=C===!0?H.Replace:H.Push,{formMethod:P,formAction:K,formEncType:Y}=u.navigation;!p&&!b&&P&&K&&Y&&(p=Yt(u.navigation));let D=p||b;if(sn.has(l.response.status)&&D&&ae(D.formMethod))await ye(M,w,{submission:z({},D,{formAction:S}),preventScrollReset:U});else{let O=ft(w,p);await ye(M,w,{overrideNavigation:O,fetcherSubmission:b,preventScrollReset:U})}}async function Ie(o,l,h,p){try{let b=await vn(g,o,l,h,p,s,a);return await Promise.all(b.map((C,S)=>{if(Rn(C)){let w=C.result;return{type:N.redirect,response:bn(w,l,h[S].route.id,p,c,f.v7_relativeSplatPath)}}return yn(C)}))}catch(b){return h.map(()=>({type:N.error,error:b}))}}async function Rt(o,l,h,p,b){let[C,...S]=await Promise.all([h.length?Ie("loader",b,h,l):[],...p.map(w=>{if(w.matches&&w.match&&w.controller){let M=Pe(e.history,w.path,w.controller.signal);return Ie("loader",M,[w.match],w.matches).then(P=>P[0])}else return Promise.resolve({type:N.error,error:re(404,{pathname:w.path})})})]);return await Promise.all([Kt(o,h,C,C.map(()=>b.signal),!1,u.loaderData),Kt(o,p.map(w=>w.match),S,p.map(w=>w.controller?w.controller.signal:null),!0)]),{loaderResults:C,fetcherResults:S}}function st(){ie=!0,Ke.push(...ut()),Re.forEach((o,l)=>{V.has(l)&&(Ye.push(l),fe(l))})}function ce(o,l,h){h===void 0&&(h={}),u.fetchers.set(o,l),Z({fetchers:new Map(u.fetchers)},{flushSync:(h&&h.flushSync)===!0})}function je(o,l,h,p){p===void 0&&(p={});let b=ke(u.matches,l);Ge(o),Z({errors:{[b.route.id]:h},fetchers:new Map(u.fetchers)},{flushSync:(p&&p.flushSync)===!0})}function xt(o){return f.v7_fetcherPersist&&(Fe.set(o,(Fe.get(o)||0)+1),se.has(o)&&se.delete(o)),u.fetchers.get(o)||un}function Ge(o){let l=u.fetchers.get(o);V.has(o)&&!(l&&l.state==="loading"&&Ee.has(o))&&fe(o),Re.delete(o),Ee.delete(o),le.delete(o),se.delete(o),u.fetchers.delete(o)}function Pr(o){if(f.v7_fetcherPersist){let l=(Fe.get(o)||0)-1;l<=0?(Fe.delete(o),se.add(o)):Fe.set(o,l)}else Ge(o);Z({fetchers:new Map(u.fetchers)})}function fe(o){let l=V.get(o);T(l,"Expected fetch controller: "+o),l.abort(),V.delete(o)}function St(o){for(let l of o){let h=xt(l),p=me(h.data);u.fetchers.set(l,p)}}function Dt(){let o=[],l=!1;for(let h of le){let p=u.fetchers.get(h);T(p,"Expected fetcher: "+h),p.state==="loading"&&(le.delete(h),o.push(h),l=!0)}return St(o),l}function Pt(o){let l=[];for(let[h,p]of Ee)if(p<o){let b=u.fetchers.get(h);T(b,"Expected fetcher: "+h),b.state==="loading"&&(fe(h),Ee.delete(h),l.push(h))}return St(l),l.length>0}function Lr(o,l){let h=u.blockers.get(o)||Be;return ge.get(o)!==l&&ge.set(o,l),h}function Lt(o){u.blockers.delete(o),ge.delete(o)}function Xe(o,l){let h=u.blockers.get(o)||Be;T(h.state==="unblocked"&&l.state==="blocked"||h.state==="blocked"&&l.state==="blocked"||h.state==="blocked"&&l.state==="proceeding"||h.state==="blocked"&&l.state==="unblocked"||h.state==="proceeding"&&l.state==="unblocked","Invalid blocker state transition: "+h.state+" -> "+l.state);let p=new Map(u.blockers);p.set(o,l),Z({blockers:p})}function Ct(o){let{currentLocation:l,nextLocation:h,historyAction:p}=o;if(ge.size===0)return;ge.size>1&&Ce(!1,"A router only supports one blocker at a time");let b=Array.from(ge.entries()),[C,S]=b[b.length-1],w=u.blockers.get(C);if(!(w&&w.state==="proceeding")&&S({currentLocation:l,nextLocation:h,historyAction:p}))return C}function ut(o){let l=[];return ve.forEach((h,p)=>{(!o||o(p))&&(h.cancel(),l.push(p),ve.delete(p))}),l}function Cr(o,l,h){if(L=o,R=l,x=h||null,!E&&u.navigation===ct){E=!0;let p=Tt(u.location,u.matches);p!=null&&Z({restoreScrollPosition:p})}return()=>{L=null,R=null,x=null}}function Mt(o,l){return x&&x(o,l.map(p=>Br(p,u.loaderData)))||o.key}function Mr(o,l){if(L&&R){let h=Mt(o,l);L[h]=R()}}function Tt(o,l){if(L){let h=Mt(o,l),p=L[h];if(typeof p=="number")return p}return null}function Tr(o){s={},d=ht(o,a,void 0,s)}return de={get basename(){return c},get future(){return f},get state(){return u},get routes(){return i},get window(){return t},initialize:gr,subscribe:br,enableScrollRestoration:Cr,navigate:Et,fetch:xr,revalidate:wr,createHref:o=>e.history.createHref(o),encodeLocation:o=>e.history.encodeLocation(o),getFetcher:xt,deleteFetcher:Pr,dispose:yr,getBlocker:Lr,deleteBlocker:Lt,_internalFetchControllers:V,_internalActiveDeferreds:ve,_internalSetRoutes:Tr},de}function fn(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function mt(e,t,r,n,a,s,i,d){let c,g;if(i){c=[];for(let m of t)if(c.push(m),m.route.id===i){g=m;break}}else c=t,g=t[t.length-1];let f=nr(a||".",rr(c,s),We(e.pathname,r)||e.pathname,d==="path");return a==null&&(f.search=e.search,f.hash=e.hash),(a==null||a===""||a===".")&&g&&g.route.index&&!wt(f.search)&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(f.pathname=f.pathname==="/"?r:pe([r,f.pathname])),$e(f)}function jt(e,t,r,n){if(!n||!fn(n))return{path:r};if(n.formMethod&&!Sn(n.formMethod))return{path:r,error:re(405,{method:n.formMethod})};let a=()=>({path:r,error:re(400,{type:"invalid-body"})}),s=n.formMethod||"get",i=e?s.toUpperCase():s.toLowerCase(),d=lr(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ae(i))return a();let v=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((L,x)=>{let[R,E]=x;return""+L+R+"="+E+`
`},""):String(n.body);return{path:r,submission:{formMethod:i,formAction:d,formEncType:n.formEncType,formData:void 0,json:void 0,text:v}}}else if(n.formEncType==="application/json"){if(!ae(i))return a();try{let v=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:i,formAction:d,formEncType:n.formEncType,formData:void 0,json:v,text:void 0}}}catch{return a()}}}T(typeof FormData=="function","FormData is not available in this environment");let c,g;if(n.formData)c=pt(n.formData),g=n.formData;else if(n.body instanceof FormData)c=pt(n.body),g=n.body;else if(n.body instanceof URLSearchParams)c=n.body,g=At(c);else if(n.body==null)c=new URLSearchParams,g=new FormData;else try{c=new URLSearchParams(n.body),g=At(c)}catch{return a()}let f={formMethod:i,formAction:d,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(ae(f.formMethod))return{path:r,submission:f};let m=ue(r);return t&&m.search&&wt(m.search)&&c.append("index",""),m.search="?"+c,{path:$e(m),submission:f}}function hn(e,t){let r=e;if(t){let n=e.findIndex(a=>a.route.id===t);n>=0&&(r=e.slice(0,n))}return r}function Ot(e,t,r,n,a,s,i,d,c,g,f,m,v,L,x,R){let E=R?ne(R[1])?R[1].error:R[1].data:void 0,F=e.createURL(t.location),I=e.createURL(a),B=R&&ne(R[1])?R[0]:void 0,ee=B?hn(r,B):r,q=R?R[1].statusCode:void 0,de=i&&q&&q>=400,u=ee.filter((U,j)=>{let{route:k}=U;if(k.lazy)return!0;if(k.loader==null)return!1;if(s)return typeof k.loader!="function"||k.loader.hydrate?!0:t.loaderData[k.id]===void 0&&(!t.errors||t.errors[k.id]===void 0);if(mn(t.loaderData,t.matches[j],U)||c.some(Q=>Q===U.route.id))return!0;let G=t.matches[j],W=U;return Nt(U,z({currentUrl:F,currentParams:G.params,nextUrl:I,nextParams:W.params},n,{actionResult:E,unstable_actionStatus:q,defaultShouldRevalidate:de?!1:d||F.pathname+F.search===I.pathname+I.search||F.search!==I.search||ir(G,W)}))}),A=[];return m.forEach((U,j)=>{if(s||!r.some(ie=>ie.route.id===U.routeId)||f.has(j))return;let k=Le(L,U.path,x);if(!k){A.push({key:j,routeId:U.routeId,path:U.path,matches:null,match:null,controller:null});return}let G=t.fetchers.get(j),W=vt(k,U.path),Q=!1;v.has(j)?Q=!1:g.includes(j)?Q=!0:G&&G.state!=="idle"&&G.data===void 0?Q=d:Q=Nt(W,z({currentUrl:F,currentParams:t.matches[t.matches.length-1].params,nextUrl:I,nextParams:r[r.length-1].params},n,{actionResult:E,unstable_actionStatus:q,defaultShouldRevalidate:de?!1:d})),Q&&A.push({key:j,routeId:U.routeId,path:U.path,matches:k,match:W,controller:new AbortController})}),[u,A]}function mn(e,t,r){let n=!t||r.route.id!==t.route.id,a=e[r.route.id]===void 0;return n||a}function ir(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Nt(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}async function Bt(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let a=r[e.id];T(a,"No route found in manifest");let s={};for(let i in n){let c=a[i]!==void 0&&i!=="hasErrorBoundary";Ce(!c,'Route "'+a.id+'" has a static property "'+i+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+i+'" will be ignored.')),!c&&!Or.has(i)&&(s[i]=n[i])}Object.assign(a,s),Object.assign(a,z({},t(a),{lazy:void 0}))}function pn(e){return Promise.all(e.matches.map(t=>t.resolve()))}async function vn(e,t,r,n,a,s,i,d){let c=n.reduce((m,v)=>m.add(v.route.id),new Set),g=new Set,f=await e({matches:a.map(m=>{let v=c.has(m.route.id);return z({},m,{shouldLoad:v,resolve:x=>(g.add(m.route.id),v?gn(t,r,m,s,i,x,d):Promise.resolve({type:N.data,result:void 0}))})}),request:r,params:a[0].params,context:d});return a.forEach(m=>T(g.has(m.route.id),'`match.resolve()` was not called for route id "'+m.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),f.filter((m,v)=>c.has(a[v].route.id))}async function gn(e,t,r,n,a,s,i){let d,c,g=f=>{let m,v=new Promise((R,E)=>m=E);c=()=>m(),t.signal.addEventListener("abort",c);let L=R=>typeof f!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+r.route.id+"]"))):f({request:t,params:r.params,context:i},...R!==void 0?[R]:[]),x;return s?x=s(R=>L(R)):x=(async()=>{try{return{type:"data",result:await L()}}catch(R){return{type:"error",result:R}}})(),Promise.race([x,v])};try{let f=r.route[e];if(r.route.lazy)if(f){let m,[v]=await Promise.all([g(f).catch(L=>{m=L}),Bt(r.route,a,n)]);if(m!==void 0)throw m;d=v}else if(await Bt(r.route,a,n),f=r.route[e],f)d=await g(f);else if(e==="action"){let m=new URL(t.url),v=m.pathname+m.search;throw re(405,{method:t.method,pathname:v,routeId:r.route.id})}else return{type:N.data,result:void 0};else if(f)d=await g(f);else{let m=new URL(t.url),v=m.pathname+m.search;throw re(404,{pathname:v})}T(d.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(f){return{type:N.error,result:f}}finally{c&&t.signal.removeEventListener("abort",c)}return d}async function yn(e){let{result:t,type:r,status:n}=e;if(sr(t)){let i;try{let d=t.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?t.body==null?i=null:i=await t.json():i=await t.text()}catch(d){return{type:N.error,error:d}}return r===N.error?{type:N.error,error:new gt(t.status,t.statusText,i),statusCode:t.status,headers:t.headers}:{type:N.data,data:i,statusCode:t.status,headers:t.headers}}if(r===N.error)return{type:N.error,error:t,statusCode:yt(t)?t.status:n};if(xn(t)){var a,s;return{type:N.deferred,deferredData:t,statusCode:(a=t.init)==null?void 0:a.status,headers:((s=t.init)==null?void 0:s.headers)&&new Headers(t.init.headers)}}return{type:N.data,data:t,statusCode:n}}function bn(e,t,r,n,a,s){let i=e.headers.get("Location");if(T(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!bt.test(i)){let d=n.slice(0,n.findIndex(c=>c.route.id===r)+1);i=mt(new URL(t.url),d,a,!0,i,s),e.headers.set("Location",i)}return e}function zt(e,t,r){if(bt.test(e)){let n=e,a=n.startsWith("//")?new URL(t.protocol+n):new URL(n),s=We(a.pathname,r)!=null;if(a.origin===t.origin&&s)return a.pathname+a.search+a.hash}return e}function Pe(e,t,r,n){let a=e.createURL(lr(t)).toString(),s={signal:r};if(n&&ae(n.formMethod)){let{formMethod:i,formEncType:d}=n;s.method=i.toUpperCase(),d==="application/json"?(s.headers=new Headers({"Content-Type":d}),s.body=JSON.stringify(n.json)):d==="text/plain"?s.body=n.text:d==="application/x-www-form-urlencoded"&&n.formData?s.body=pt(n.formData):s.body=n.formData}return new Request(a,s)}function pt(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function At(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function wn(e,t,r,n,a,s){let i={},d=null,c,g=!1,f={},m=n&&ne(n[1])?n[1].error:void 0;return r.forEach((v,L)=>{let x=t[L].route.id;if(T(!we(v),"Cannot handle redirect results in processLoaderData"),ne(v)){let R=v.error;if(m!==void 0&&(R=m,m=void 0),d=d||{},s)d[x]=R;else{let E=ke(e,x);d[E.route.id]==null&&(d[E.route.id]=R)}i[x]=void 0,g||(g=!0,c=yt(v.error)?v.error.status:500),v.headers&&(f[x]=v.headers)}else be(v)?(a.set(x,v.deferredData),i[x]=v.deferredData.data,v.statusCode!=null&&v.statusCode!==200&&!g&&(c=v.statusCode),v.headers&&(f[x]=v.headers)):(i[x]=v.data,v.statusCode&&v.statusCode!==200&&!g&&(c=v.statusCode),v.headers&&(f[x]=v.headers))}),m!==void 0&&n&&(d={[n[0]]:m},i[n[0]]=void 0),{loaderData:i,errors:d,statusCode:c||200,loaderHeaders:f}}function kt(e,t,r,n,a,s,i,d){let{loaderData:c,errors:g}=wn(t,r,n,a,d,!1);for(let f=0;f<s.length;f++){let{key:m,match:v,controller:L}=s[f];T(i!==void 0&&i[f]!==void 0,"Did not find corresponding fetcher result");let x=i[f];if(!(L&&L.signal.aborted))if(ne(x)){let R=ke(e.matches,v==null?void 0:v.route.id);g&&g[R.route.id]||(g=z({},g,{[R.route.id]:x.error})),e.fetchers.delete(m)}else if(we(x))T(!1,"Unhandled fetcher revalidation redirect");else if(be(x))T(!1,"Unhandled fetcher deferred data");else{let R=me(x.data);e.fetchers.set(m,R)}}return{loaderData:c,errors:g}}function Ht(e,t,r,n){let a=z({},t);for(let s of r){let i=s.route.id;if(t.hasOwnProperty(i)?t[i]!==void 0&&(a[i]=t[i]):e[i]!==void 0&&s.route.loader&&(a[i]=e[i]),n&&n.hasOwnProperty(i))break}return a}function Vt(e){return e?ne(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function ke(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function $t(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function re(e,t){let{pathname:r,routeId:n,method:a,type:s}=t===void 0?{}:t,i="Unknown Server Error",d="Unknown @remix-run/router error";return e===400?(i="Bad Request",a&&r&&n?d="You made a "+a+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":s==="defer-action"?d="defer() is not supported in actions":s==="invalid-body"&&(d="Unable to encode submission body")):e===403?(i="Forbidden",d='Route "'+n+'" does not match URL "'+r+'"'):e===404?(i="Not Found",d='No route matches URL "'+r+'"'):e===405&&(i="Method Not Allowed",a&&r&&n?d="You made a "+a.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":a&&(d='Invalid request method "'+a.toUpperCase()+'"')),new gt(e||500,i,new Error(d),!0)}function Wt(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(we(r))return{result:r,idx:t}}}function lr(e){let t=typeof e=="string"?ue(e):e;return $e(z({},t,{hash:""}))}function En(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Rn(e){return sr(e.result)&&ln.has(e.result.status)}function be(e){return e.type===N.deferred}function ne(e){return e.type===N.error}function we(e){return(e&&e.type)===N.redirect}function xn(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function sr(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Sn(e){return on.has(e.toLowerCase())}function ae(e){return nn.has(e.toLowerCase())}async function Kt(e,t,r,n,a,s){for(let i=0;i<r.length;i++){let d=r[i],c=t[i];if(!c)continue;let g=e.find(m=>m.route.id===c.route.id),f=g!=null&&!ir(g,c)&&(s&&s[c.route.id])!==void 0;if(be(d)&&(a||f)){let m=n[i];T(m,"Expected an AbortSignal for revalidating fetcher deferred result"),await ur(d,m,a).then(v=>{v&&(r[i]=v||r[i])})}}}async function ur(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:N.data,data:e.deferredData.unwrappedData}}catch(a){return{type:N.error,error:a}}return{type:N.data,data:e.deferredData.data}}}function wt(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function vt(e,t){let r=typeof t=="string"?ue(t).search:t.search;if(e[e.length-1].route.index&&wt(r||""))return e[e.length-1];let n=tr(e);return n[n.length-1]}function Yt(e){let{formMethod:t,formAction:r,formEncType:n,text:a,formData:s,json:i}=e;if(!(!t||!r||!n)){if(a!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:a};if(s!=null)return{formMethod:t,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(i!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:i,text:void 0}}}function ft(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Dn(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function ze(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Pn(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function me(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ln(e,t){try{let r=e.sessionStorage.getItem(or);if(r){let n=JSON.parse(r);for(let[a,s]of Object.entries(n||{}))s&&Array.isArray(s)&&t.set(a,new Set(s||[]))}}catch{}}function Cn(e,t){if(t.size>0){let r={};for(let[n,a]of t)r[n]=[...a];try{e.sessionStorage.setItem(or,JSON.stringify(r))}catch(n){Ce(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ve.apply(this,arguments)}const nt=y.createContext(null),dr=y.createContext(null),at=y.createContext(null),ot=y.createContext(null),Me=y.createContext({outlet:null,matches:[],isDataRoute:!1}),cr=y.createContext(null);function it(){return y.useContext(ot)!=null}function fr(){return it()||T(!1),y.useContext(ot).location}function hr(e){y.useContext(at).static||y.useLayoutEffect(e)}function ta(){let{isDataRoute:e}=y.useContext(Me);return e?An():Mn()}function Mn(){it()||T(!1);let e=y.useContext(nt),{basename:t,future:r,navigator:n}=y.useContext(at),{matches:a}=y.useContext(Me),{pathname:s}=fr(),i=JSON.stringify(rr(a,r.v7_relativeSplatPath)),d=y.useRef(!1);return hr(()=>{d.current=!0}),y.useCallback(function(g,f){if(f===void 0&&(f={}),!d.current)return;if(typeof g=="number"){n.go(g);return}let m=nr(g,JSON.parse(i),s,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:pe([t,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[t,n,i,s,e])}function Tn(e,t,r,n){it()||T(!1);let{navigator:a}=y.useContext(at),{matches:s}=y.useContext(Me),i=s[s.length-1],d=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let g=fr(),f;if(t){var m;let E=typeof t=="string"?ue(t):t;c==="/"||(m=E.pathname)!=null&&m.startsWith(c)||T(!1),f=E}else f=g;let v=f.pathname||"/",L=v;if(c!=="/"){let E=c.replace(/^\//,"").split("/");L="/"+v.replace(/^\//,"").split("/").slice(E.length).join("/")}let x=Le(e,{pathname:L}),R=jn(x&&x.map(E=>Object.assign({},E,{params:Object.assign({},d,E.params),pathname:pe([c,a.encodeLocation?a.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:pe([c,a.encodeLocation?a.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,r,n);return t&&R?y.createElement(ot.Provider,{value:{location:Ve({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:H.Pop}},R):R}function Fn(){let e=zn(),t=yt(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:a},r):null,null)}const _n=y.createElement(Fn,null);class Un extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(Me.Provider,{value:this.props.routeContext},y.createElement(cr.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function In(e){let{routeContext:t,match:r,children:n}=e,a=y.useContext(nt);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(Me.Provider,{value:t},n)}function jn(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if((s=r)!=null&&s.errors)e=r.matches;else return null}let i=e,d=(a=r)==null?void 0:a.errors;if(d!=null){let f=i.findIndex(m=>m.route.id&&(d==null?void 0:d[m.route.id])!==void 0);f>=0||T(!1),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,g=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<i.length;f++){let m=i[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(g=f),m.route.id){let{loaderData:v,errors:L}=r,x=m.route.loader&&v[m.route.id]===void 0&&(!L||L[m.route.id]===void 0);if(m.route.lazy||x){c=!0,g>=0?i=i.slice(0,g+1):i=[i[0]];break}}}return i.reduceRight((f,m,v)=>{let L,x=!1,R=null,E=null;r&&(L=d&&m.route.id?d[m.route.id]:void 0,R=m.route.errorElement||_n,c&&(g<0&&v===0?(kn("route-fallback",!1),x=!0,E=null):g===v&&(x=!0,E=m.route.hydrateFallbackElement||null)));let F=t.concat(i.slice(0,v+1)),I=()=>{let B;return L?B=R:x?B=E:m.route.Component?B=y.createElement(m.route.Component,null):m.route.element?B=m.route.element:B=f,y.createElement(In,{match:m,routeContext:{outlet:f,matches:F,isDataRoute:r!=null},children:B})};return r&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?y.createElement(Un,{location:r.location,revalidation:r.revalidation,component:R,error:L,children:I(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):I()},null)}var mr=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(mr||{}),et=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(et||{});function On(e){let t=y.useContext(nt);return t||T(!1),t}function Nn(e){let t=y.useContext(dr);return t||T(!1),t}function Bn(e){let t=y.useContext(Me);return t||T(!1),t}function pr(e){let t=Bn(),r=t.matches[t.matches.length-1];return r.route.id||T(!1),r.route.id}function zn(){var e;let t=y.useContext(cr),r=Nn(et.UseRouteError),n=pr(et.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function An(){let{router:e}=On(mr.UseNavigateStable),t=pr(et.UseNavigateStable),r=y.useRef(!1);return hr(()=>{r.current=!0}),y.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Ve({fromRouteId:t},s)))},[e,t])}const Jt={};function kn(e,t,r){!t&&!Jt[e]&&(Jt[e]=!0)}function vr(e){let{basename:t="/",children:r=null,location:n,navigationType:a=H.Pop,navigator:s,static:i=!1,future:d}=e;it()&&T(!1);let c=t.replace(/^\/*/,"/"),g=y.useMemo(()=>({basename:c,navigator:s,static:i,future:Ve({v7_relativeSplatPath:!1},d)}),[c,d,s,i]);typeof n=="string"&&(n=ue(n));let{pathname:f="/",search:m="",hash:v="",state:L=null,key:x="default"}=n,R=y.useMemo(()=>{let E=We(f,c);return E==null?null:{location:{pathname:E,search:m,hash:v,state:L,key:x},navigationType:a}},[c,f,m,v,L,x,a]);return R==null?null:y.createElement(at.Provider,{value:g},y.createElement(ot.Provider,{children:r,value:R}))}new Promise(()=>{});function Hn(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:y.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:y.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:y.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tt.apply(this,arguments)}const Vn="6";try{window.__reactRouterVersion=Vn}catch{}function ra(e,t){return cn({basename:t==null?void 0:t.basename,future:tt({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:Qt({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||$n(),routes:e,mapRouteProperties:Hn,unstable_dataStrategy:t==null?void 0:t.unstable_dataStrategy,window:t==null?void 0:t.window}).initialize()}function $n(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=tt({},t,{errors:Wn(t.errors)})),t}function Wn(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,a]of t)if(a&&a.__type==="RouteErrorResponse")r[n]=new gt(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let s=window[a.__subType];if(typeof s=="function")try{let i=new s(a.message);i.stack="",r[n]=i}catch{}}if(r[n]==null){let s=new Error(a.message);s.stack="",r[n]=s}}else r[n]=a;return r}const Kn=y.createContext({isTransitioning:!1}),Yn=y.createContext(new Map),Jn="startTransition",rt=_r[Jn],Gn="flushSync",Gt=Ur[Gn];function Xn(e){rt?rt(e):e()}function Ae(e){Gt?Gt(e):e()}class qn{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function na(e){let{fallbackElement:t,router:r,future:n}=e,[a,s]=y.useState(r.state),[i,d]=y.useState(),[c,g]=y.useState({isTransitioning:!1}),[f,m]=y.useState(),[v,L]=y.useState(),[x,R]=y.useState(),E=y.useRef(new Map),{v7_startTransition:F}=n||{},I=y.useCallback(u=>{F?Xn(u):u()},[F]),B=y.useCallback((u,A)=>{let{deletedFetchers:U,unstable_flushSync:j,unstable_viewTransitionOpts:k}=A;U.forEach(W=>E.current.delete(W)),u.fetchers.forEach((W,Q)=>{W.data!==void 0&&E.current.set(Q,W.data)});let G=r.window==null||typeof r.window.document.startViewTransition!="function";if(!k||G){j?Ae(()=>s(u)):I(()=>s(u));return}if(j){Ae(()=>{v&&(f&&f.resolve(),v.skipTransition()),g({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let W=r.window.document.startViewTransition(()=>{Ae(()=>s(u))});W.finished.finally(()=>{Ae(()=>{m(void 0),L(void 0),d(void 0),g({isTransitioning:!1})})}),Ae(()=>L(W));return}v?(f&&f.resolve(),v.skipTransition(),R({state:u,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(d(u),g({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[r.window,v,f,E,I]);y.useLayoutEffect(()=>r.subscribe(B),[r,B]),y.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new qn)},[c]),y.useEffect(()=>{if(f&&i&&r.window){let u=i,A=f.promise,U=r.window.document.startViewTransition(async()=>{I(()=>s(u)),await A});U.finished.finally(()=>{m(void 0),L(void 0),d(void 0),g({isTransitioning:!1})}),L(U)}},[I,i,f,r.window]),y.useEffect(()=>{f&&i&&a.location.key===i.location.key&&f.resolve()},[f,v,a.location,i]),y.useEffect(()=>{!c.isTransitioning&&x&&(d(x.state),g({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),R(void 0))},[c.isTransitioning,x]),y.useEffect(()=>{},[]);let ee=y.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:u=>r.navigate(u),push:(u,A,U)=>r.navigate(u,{state:A,preventScrollReset:U==null?void 0:U.preventScrollReset}),replace:(u,A,U)=>r.navigate(u,{replace:!0,state:A,preventScrollReset:U==null?void 0:U.preventScrollReset})}),[r]),q=r.basename||"/",de=y.useMemo(()=>({router:r,navigator:ee,static:!1,basename:q}),[r,ee,q]);return y.createElement(y.Fragment,null,y.createElement(nt.Provider,{value:de},y.createElement(dr.Provider,{value:a},y.createElement(Yn.Provider,{value:E.current},y.createElement(Kn.Provider,{value:c},y.createElement(vr,{basename:q,location:a.location,navigationType:a.historyAction,navigator:ee,future:{v7_relativeSplatPath:r.future.v7_relativeSplatPath}},a.initialized||r.future.v7_partialHydration?y.createElement(Qn,{routes:r.routes,future:r.future,state:a}):t))))),null)}function Qn(e){let{routes:t,future:r,state:n}=e;return Tn(t,void 0,n,r)}function aa(e){let{basename:t,children:r,future:n,window:a}=e,s=y.useRef();s.current==null&&(s.current=Qt({window:a,v5Compat:!0}));let i=s.current,[d,c]=y.useState({action:i.action,location:i.location}),{v7_startTransition:g}=n||{},f=y.useCallback(m=>{g&&rt?rt(()=>c(m)):c(m)},[c,g]);return y.useLayoutEffect(()=>i.listen(f),[i,f]),y.createElement(vr,{basename:t,children:r,location:d.location,navigationType:d.action,navigator:i,future:n})}var Xt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Xt||(Xt={}));var qt;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(qt||(qt={}));export{aa as B,na as R,fr as a,ra as c,ta as u};
