# react-payments

## step1

### 기능 요구 사항

- 카드 번호 입력 및 식별

  - 사용자가 입력하는 카드 번호를 실시간으로 파악하여, Visa나 MasterCard에 해당하면 해당 브랜드의 로고를 UI에 표시한다.
  - 입력은 숫자만 가능하며, 유효하지 않은 번호 입력 시 피드백을 제공한다.

- 카드 유효기간 입력

  - 월과 년도를 범위 내에서만 입력할 수 있어야 하며, 입력 제한을 두어 사용자가 숫자만 입력할 수 있도록 한다.

- 카드 소유자 이름 입력

  - 영문자 대문자만 입력 가능한 폼을 구현한다.

- 실시간 프리뷰 업데이트

  - 사용자의 카드 정보 입력에 따라 카드 프리뷰를 동시에 업데이트한다.

- 주의 사항
  사용자의 입력 input에 포커스를 자동으로 이동하는 부분을 1단계에서 고려하지 않는다. '기능' 자체에 집중해서 구현한다. 만약 리뷰어가 사용자 경험 측면에서 피드백을 준다면, 피드백을 반영하는 시점에서 사용자 경험도 함께 고려하여 개선한다.
  기본적인 기능 요구사항을 만족하지 못한 코드는 코드 리뷰 대상이 아니다.

#### CSS 어떻게?

Styled-component

- 컴포넌트의 이름은 반드시 대문자로 시작하여야 합니다.
- 1개의 요소를 감싸는 컴포넌트는 Wrapper 로 끝나게끔 짓습니다.
- 여러개 요소를 감싸는 컴포넌트는 Container로 끝나게끔 짓습니다.
- 최상위 레이아웃 설정 컴포넌트는 Layout 으로 끝나게끔 짓습니다
- div 태그 컴포넌트 이름은 자유롭게 하나 Box를 제안합니다
- 모든 컴포넌트의 이름에는 기능을 암시하는 단어를 집어넣습니다.

---

## step2

### 학습목표

- 다양한 Form 구성 요소들간의 상태를 효율적으로 관리한다.
- hooks API를 이용하여 상태 관리 로직을 구현한다.
- custom hooks를 생성하여 Form 관리 로직을 컴포넌트에서 분리하고 재사용한다.
- Controlled & Uncontrolled Components에 입각하여 Form을 핸들링한다.

### 핵심 기능

사용자에게 카드 정보를 입력 받아 카드를 등록하면 카드 등록 완료 페이지로 이동

### 기능 목록 (기능 요구 사항)

#### 1. 카드사 선택 기능

- **기능 정의**: 드롭다운을 통해 카드사를 선택하고, 선택된 카드사 정보에 따라 상태를 업데이트하고 미리보기 컴포넌트를 조건부 렌더링한다.
- **테스트 케이스 정의**: 사용자가 카드사를 선택할 수 있고, 선택에 따라 카드 미리보기의 색상이 변경되는지 확인한다.

#### 2. CVC 번호 입력 기능

- **기능 정의**: 입력 필드에 숫자만 입력되도록 하고, 입력 유효성 검사를 통해 에러 메시지를 표시한다. 또한, 입력 필드에 포커스가 있을 때 뒷면 미리보기를 보여준다.
- **테스트 케이스 정의**: CVC 번호 입력 필드가 숫자만 받아들이고, 유효하지 않은 입력에 대해 적절한 피드백을 제공한다. 또한 입력 중에는 카드 미리보기의 뒷면이 보여야 한다.
- **유효 조건**: 3~4자리 숫자

#### 3. 비밀번호 입력 기능

- **기능 정의**: 입력 필드에 숫자만 입력되도록 하고, 입력 유효성 검사를 통해 에러 메시지를 표시한다. 입력된 값은 별표(asterisk)로 마스킹한다.
- **테스트 케이스 정의**: 비밀번호 입력 필드가 숫자만 받아들이고, 유효하지 않은 입력에 대해 적절한 피드백을 제공한다. 비밀번호 입력값은 별표로 표시된다.
- **유효 조건**: 2자리 숫자

#### 4. 폼 제출 및 상태 관리

- **기능 정의**: 각 입력 필드의 유효성을 검사하고 전체 폼의 상태를 관리한다. 유효성 검사 로직을 통해 버튼의 활성화 상태를 동적으로 업데이트한다.
- **테스트 케이스 정의**: 모든 입력이 유효한 상태에서만 제출 버튼이 활성화되고, 입력 중 하나라도 유효하지 않다면 제출 버튼이 비활성화된다.

#### 5. 카드 등록 완료 및 네비게이션

- **기능 정의**: ‘카드 등록 폼 페이지’에서 확인 버튼을 클릭하면 ‘카드 등록 완료 페이지’로 이동한다. ‘카드 등록 완료 페이지’에서는 성공 메시지와 함께 ‘카드 등록 폼 페이지’로 돌아갈 수 있는 버튼을 제공한다.
- **테스트 케이스 정의**
  - ‘카드 등록 폼 페이지’에서 확인 버튼을 클릭하면, ‘카드 등록 완료 페이지’로 이동한다.
  - ‘카드 등록 완료 페이지’에서 확인 버튼을 클릭하면, ‘카드 등록 폼 페이지’로 이동한다.

#### 6. 동적 입력 UI

### 프로그래밍 요구 사항

- Test
  - Storybook을 이용하여, 컴포넌트의 다양한 상태를 테스트한다.
  - 각 스토리에 명확한 이름을 지정하고, 스토리 이름을 통해 컴포넌트의 사용 사례를 쉽게 이해할 수 있도록 한다.
- Readability
  - 에러 처리 로직을 명확하게 작성하여 코드의 가독성을 높인다.
- Reusability
  - 반복되는 컴포넌트와 스타일은 분리하여 재사용성을 높인다.
- Library
  - 스타일링에는 CSS Module, styled-components, emotion 중 한 가지를 선택하여 사용한다.
- Routing
  - react-router를 이용하여 페이지를 관리한다.
- Custom Hooks
  - custom hooks를 활용하여 form 관리에 필요한 로직을 UI와 분리하여 관리한다. 이를 통해 코드의 가독성과 재사용성을 높인다.
- Performance
  - 불필요한 상태 관리나 리렌더링이 발생하지 않도록 한다.
  - 예를 들어 카드 번호 입력 시 매 입력마다 브랜드 식별 로직이 동작하는 것은 비효율적일 수 있다. 일정 자릿수 이상 입력된 경우에만 브랜드 식별을 하는 등의 방법으로 개선한다.
